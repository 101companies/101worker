<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta charset="UTF-8"/>
    <title>testAllEntities Results</title>

    <style type="text/css">
        body {
            font-size: 80%;
            font-family: Verdana, Sans-Serif;
        }

        .entity h3 {
            margin: 0;
            font-size: 14px;
            padding: 10px;
            color: #ffffff;
            background-color: #5c9ebd;
            border-bottom: 1px solid #336880;
        }

        .entity h3:hover {
            cursor: pointer;
        }

        .entity div {
            margin: 0;
            padding: 3px 5px;
            background-color: #b7d4e2;
            border-bottom: 0px solid #336880;
        }

        .entity.hide h3 {
            color: #336880;
            background-color: #4285a4;
        }

        .entity.hide div {
            display: none;
        }

        .entity_item h4 {
            margin: 0;
            font-size: 12px;
            padding: 3px;
            color: #ffffff;
            background-color: #92bed3;
            border-bottom: 1px solid #4285a4;
        }

        .entity_item h4:hover {
            cursor: pointer;
        }

        .entity_item div {
            margin: 0;
            padding: 10px 10px;
            background-color: #ffffff;
            border-bottom: 1px solid #4285a4;
        }

        .entity_item.hide h4 {
            color: #336880;
            background-color: #5c9ebd;
        }

        .entity_item.hide div {
            display: none;
        }
    </style>

    <script type="text/javascript">
    var entities = new Array();
    var entity_items = new Array();

    function init() {
        var divs = document.getElementsByTagName('div');
        for(var i = 0; i < divs.length; ++i) {
            if(divs[i].className == 'entity')
                entities.push(divs[i]);
            else if(divs[i].className == 'entity_item')
                entity_items.push(divs[i]);
        }

        for(var i = 0; i < entities.length; ++i) {
            get_first_tag(entities[i], 'H3').onclick = toggle_entity;
            entities[i].className = 'entity hide';
        }
        entities[0].className = 'entity';

        for(var i = 0; i < entity_items.length; ++i) {
            get_first_tag(entity_items[i], 'H4').onclick = toggle_entity_item;
            entity_items[i].className = 'entity_item hide';
        }
    }

    function toggle_entity() {
        var entity_class = this.parentNode.className;
        if(entity_class == 'entity hide')
            this.parentNode.className = 'entity';
        else
            this.parentNode.className = 'entity hide';
    }

    function toggle_entity_item() {
        var entity_item_class = this.parentNode.className;
        if(entity_item_class == 'entity_item hide')
            this.parentNode.className = 'entity_item';
        else
            this.parentNode.className = 'entity_item hide';
    }

    function hide_all() {
        for(var i = 0; i < entities.length; ++i)
            entities[i].className = 'entity hide';
        for(var i = 0; i < entity_items.length; ++i)
            entity_items[i].className = 'entity_item hide';
    }

    function show_all() {
        for(var i = 0; i < entities.length; ++i)
            entities[i].className = 'entity';
        for(var i = 0; i < entity_items.length; ++i)
            entity_items[i].className = 'entity_item';
    }

    function get_first_tag(element, tag) {
        for(var i = 0; i < element.childNodes.length; ++i)
            if(element.childNodes[i].nodeName == tag)
                return element.childNodes[i];
    }
    </script>
  </head>

  <body onload="init()">
    <div class="entity">
      <h3>Overview
        [<i onclick="show_all()">show all</i>]
        [<i onclick="hide_all()">hide all</i>]</h3>
          <div>
            <b>Total Errors:</b> {{ total_count }}
          </div>
    </div>

    <div class="entity">
      <h3>Root Errors [{{ root_errors_total_count }}] </h3>
          <div>
            {% for error, list in root_errors.iteritems() %}
            <div class="entity_item">
              <h4>{{ error }} [{{ root_errors_counts[error] }}] </h4>
              <div>
                {% for item in list %}
                <li> <b> {{ item.0.name }} </b>
                  {{ item.0.resource }} <br>
                  {{ item.1 }} <br> <br>
                  {% endfor %} </li>
              </div>
            </div>
            {% endfor %}
          </div>
    </div>


    <div class="entity">
      <h3>Namespace Errors [{{ namespace_errors_total_count }}] </h3>
          <div>
            {% for error, list in namespace_errors.iteritems() %}
            <div class="entity_item">
              <h4>{{ error }} [{{ namespace_errors_counts[error] }}] </h4>
              <div>
                {% for item in list %}
                <li> <b> {{ item.0.name }} </b>
                  {{ item.0.resource }} <br>
                  {{ item.1 }} <br> <br>
                  {% endfor %} </li>
              </div>
            </div>
            {% endfor %}
          </div>
    </div>


    <div class="entity">
      <h3>Member Errors [{{ member_errors_total_count }}] </h3>
          <div>
            {% for error, list in member_errors.iteritems() %}
            <div class="entity_item">
              <h4>{{ error }} [{{ member_errors_counts[error] }}] </h4>
              <div>
                {% for item in list %}
                <li> <b> {{ item.0.name }} </b>
                  {{ item.0.resource }} <br>
                  {{ item.1 }} <br> <br>
                  {% endfor %} </li>
              </div>
            </div>
            {% endfor %}
          </div>
    </div>

    <div class="entity">
      <h3>Folder Errors [{{ folder_errors_total_count }}] </h3>
          <div>
            {% for error, list in folder_errors.iteritems() %}
            <div class="entity_item">
              <h4>{{ error }} [{{ folder_errors_counts[error] }}] </h4>
              <div>
                {% for item in list %}
                <li> <b> {{ item.0.name }} </b>
                  {{ item.0.resource }} <br>
                  {{ item.1 }} <br> <br>
                  {% endfor %} </li>
              </div>
            </div>
            {% endfor %}
          </div>
    </div>

    <div class="entity">
      <h3>File Errors [{{ file_errors_total_count }}] </h3>
          <div>
            {% for error, list in file_errors.iteritems() %}
            <div class="entity_item">
              <h4>{{ error }} [{{ file_errors_counts[error] }}] </h4>
              <div>
                {% for item in list %}
                <li> <b> {{ item.0.name }} </b>
                  {{ item.0.resource }} <br>
                  {{ item.1 }} <br> <br>
                  {% endfor %} </li>
              </div>
            </div>
            {% endfor %}
          </div>
    </div>

    <div class="entity">
      <h3>Fragment Errors [{{ fragment_errors_total_count }}] </h3>
          <div>
            {% for error, list in fragment_errors.iteritems() %}
            <div class="entity_item">
              <h4>{{ error }} [{{ fragment_errors_counts[error] }}] </h4>
              <div>
                {% for item in list %}
                <li> <b> {{ item.0.name }} </b>
                  {{ item.0.resource }} <br>
                  {{ item.1 }} <br> <br>
                  {% endfor %} </li>
              </div>
            </div>
            {% endfor %}
          </div>
    </div>
</body>
</html>
